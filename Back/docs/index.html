<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>api-library</title><meta name="description" content="Documentation for api-library"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">api-library</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1> api-library</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#api-library" id="api-library" style="color: inherit; text-decoration: none;">
  <h1>api-library</h1>
</a>
<div align="center">
    <a href="https://github.com/MoneyMiii/api-library">
        <h1>api-library</h1>
    </a>
</div>


<a href="#getting-started" id="getting-started" style="color: inherit; text-decoration: none;">
  <h2>Getting Started</h2>
</a>
<p>Follow these steps to run the application without any difficulties.</p>

<a href="#clone-project" id="clone-project" style="color: inherit; text-decoration: none;">
  <h3><code>Clone Project</code></h3>
</a>
<p>Clone with <code>HTTPS</code>:</p>
<pre><code class="language-sh"><span class="hl-0">git clone https://github.com/MoneyMiii/api-library.git</span>
</code></pre>
<p>Clone with <code>SSH</code>:</p>
<pre><code class="language-sh"><span class="hl-0">git clone git@github.com:MoneyMiii/api-library.git</span>
</code></pre>

<a href="#create-env-files" id="create-env-files" style="color: inherit; text-decoration: none;">
  <h3><code>Create .env files</code></h3>
</a>
<p><strong><em>To use it with Docker, you only need to set-up the <code>production</code> file and skip to <code>Start Application</code> &gt; <code>Start in production mode with Docker</code> part</em></strong></p>
<p>Create for <code>development</code> in <code>.env</code>:</p>
<pre><code class="language-env">DB_HOST = localhost
DB_USER = root
DB_DATABASE = library
DB_PASS = GOT
</code></pre>
<p>Create for <code>test</code> in <code>.env.test</code>:</p>
<pre><code class="language-env">DB_HOST = localhost
DB_USER = root
DB_DATABASE = librarytest
DB_PASS = GOT
</code></pre>
<p>Create for <code>production</code> in <code>.env.prod</code>:</p>
<pre><code class="language-env">DB_HOST = localhost
DB_USER = root
DB_DATABASE = libraryprod
DB_PASS = GOT
</code></pre>

<a href="#install-dependencies" id="install-dependencies" style="color: inherit; text-decoration: none;">
  <h3><code>Install Dependencies</code></h3>
</a>
<pre><code class="language-sh"><span class="hl-0">npm install</span>
</code></pre>

<a href="#start-dependencies-containers" id="start-dependencies-containers" style="color: inherit; text-decoration: none;">
  <h3><code>Start Dependencies Containers</code></h3>
</a>
<pre><code class="language-sh"><span class="hl-0">docker-compose up</span>
</code></pre>

<a href="#start-application" id="start-application" style="color: inherit; text-decoration: none;">
  <h3><code>Start Application</code></h3>
</a>
<p>Start in dev mode with hot-reload:</p>
<pre><code class="language-sh"><span class="hl-0">npm run start</span>
</code></pre>
<p>Start in test mode with hot-reload:</p>
<pre><code class="language-sh"><span class="hl-0">npm run test-watch</span>
</code></pre>
<p>Start in production mode:</p>
<pre><code class="language-sh"><span class="hl-0">npm run run-prod</span>
</code></pre>

<a href="#checkpoints-report-for-the-project" id="checkpoints-report-for-the-project" style="color: inherit; text-decoration: none;">
  <h1>Checkpoints report for the project</h1>
</a>
<p>You <strong>MUST</strong> append a filled copy of this document at the end of your <code>README.MD</code>.</p>
<p>This document serves three main purposes:</p>
<ul>
<li>providing you a clear list of my expectations (check each point when done) ;</li>
<li>ensuring I do not miss some of your engineering during the review ;</li>
<li>asking for additional information that helps me during the review.</li>
</ul>

<a href="#notice" id="notice" style="color: inherit; text-decoration: none;">
  <h2>Notice</h2>
</a>
<p>Check every applicable checkbox in the above list. For each one, provide the requested additional information.</p>
<p>In your explanation, please provide links (file + line) to relevant parts of your source code and tests if applicable.</p>

<a href="#caption" id="caption" style="color: inherit; text-decoration: none;">
  <h3>Caption</h3>
</a>
<p>ðŸ”µ means the checkbox is mandatory. If missing or absolutely not satisfying, it may cost you 0.5 penalty point.</p>

<a href="#expectations" id="expectations" style="color: inherit; text-decoration: none;">
  <h2>Expectations</h2>
</a>

<a href="#graphql-api-only" id="graphql-api-only" style="color: inherit; text-decoration: none;">
  <h3>GraphQL API only</h3>
</a>
<ul>
<li><p><input disabled="" type="checkbox"> 
Reduce code duplication for the various involved schemas (of the database, of the ORM, of GraphQL...). <strong>[1 point]</strong> ðŸ”µ</p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Mitigation(s) against too complex GraphQL queries, arbitrary deep nested object fetching or related DoS. <strong>[1 point per mitigation, up to 2]</strong></p>
<blockquote>
<p>Quote and explain each mitigation.</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Any security or performance improvement related to your GraphQL implementation, as optionally highlighted in the subject? points]**</p>
<blockquote>
<p>Explain each improvement.</p>
</blockquote>
</li>
</ul>

<a href="#input-validation" id="input-validation" style="color: inherit; text-decoration: none;">
  <h3>Input validation</h3>
</a>
<ul>
<li><p><input disabled="" type="checkbox"> 
Strictly and deeply validate the type of every input (<code>params, querystring, body</code>) at runtime before any processing. <strong>[1 point]</strong> ðŸ”µ</p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Ensure the type of every input can be inferred by Typescript at any time and properly propagates across the app. <strong>[1 point]</strong> ðŸ”µ</p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Ensure the static and runtime input types are always synced. <strong>[1 point]</strong> ðŸ”µ</p>
<blockquote>
<p>How did you achieve this? If extra commands must be run before the typescript checking, how do you ensure there are run?</p>
</blockquote>
</li>
</ul>

<a href="#authorisation" id="authorisation" style="color: inherit; text-decoration: none;">
  <h3>Authorisation</h3>
</a>
<ul>
<li><p><input disabled="" type="checkbox"> 
Check the current user is allowed to call this endpoint. <strong>[1 point]</strong> ðŸ”µ</p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Check the current user is allowed to perform the action on a specific resource. <strong>[1 point]</strong> ðŸ”µ</p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Did you build or use an authorisation framework, making the authorisation widely used in your code base? <strong>[1 point]</strong></p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Do you have any way to ensure authorisation is checked on every endpoint? <strong>[1 point]</strong></p>
<blockquote>
<p>It is pretty easy to forget authorising some action.
For obvious reasons, it may lead to security issues and bugs.
At work, we use <code>varvet/pundit</code> in our <code>Ruby on Rails</code> stack. It can raise exception just before answering the client if authorisation is not checked.
<a href="https://github.com/varvet/pundit#ensuring-policies-and-scopes-are-used">https://github.com/varvet/pundit#ensuring-policies-and-scopes-are-used</a></p>
<p>How did you achieve this?</p>
</blockquote>
</li>
</ul>

<a href="#secret-and-configuration-management" id="secret-and-configuration-management" style="color: inherit; text-decoration: none;">
  <h3>Secret and configuration management</h3>
</a>
<ul>
<li><p><input disabled="" type="checkbox"> 
Use a hash for any sensitive data you do not need to store as plain text. ðŸ”µ</p>
<blockquote>
<p>Also check this if you do not store any password or such data (and say it here).</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Store your configuration entries in environment variables or outside the git scope. <strong>[1 point]</strong> ðŸ”µ</p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Do you provide a way to list every configuration entries (setup instructions, documentation, requireness... are appreciated)? <strong>[1 point]</strong></p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Do you have a kind of configuration validation with meaningful error messages? <strong>[1 point]</strong></p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
</ul>

<a href="#package-management" id="package-management" style="color: inherit; text-decoration: none;">
  <h3>Package management</h3>
</a>
<ul>
<li><p><input disabled="" type="checkbox"> 
Do not use any package with less than 50k downloads a week. ðŸ”µ</p>
</li>
<li><p><input disabled="" type="checkbox"> 
Did you write some automated tools that check no unpopular dependency was installed? If yes, ensure it runs frequently. <strong>[1 point]</strong></p>
<blockquote>
<p>How did you achieve this? A Github Action (or similar) and compliance rule for pull requests are appreciated.</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Properly use dependencies and devDevepencies in your package.json. <strong>[0.5 points]</strong></p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
</ul>

<a href="#automated-api-generation" id="automated-api-generation" style="color: inherit; text-decoration: none;">
  <h3>Automated API generation</h3>
</a>
<ul>
<li><p><input disabled="" type="checkbox"> 
Do you have automated documentation generation for your API (such as OpenAPI/Swagger...)? <strong>[1 point]</strong> ðŸ”µ</p>
<blockquote>
<p>How did you achieve this?
You must link your documentation for review (a Github page, a ZIP archive, an attachment to the release notes...).</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
In addition to requireness and types, do you provide a comment for every property of your documentation? <strong>[1 point]</strong></p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Do you document the schema of responses (at least for success codes) and provide examples of payloads? <strong>[1 point]</strong></p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Is your documentation automatically built and published when a commit reach the develop or master branches? <strong>[1 point]</strong></p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
</ul>

<a href="#error-management" id="error-management" style="color: inherit; text-decoration: none;">
  <h3>Error management</h3>
</a>
<ul>
<li><p><input disabled="" type="checkbox"> 
Do not expose internal application state or code (no sent stacktrace in production!). <strong>[1 point]</strong> ðŸ”µ</p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Do you report errors to Sentry, Rollbar, Stackdriverâ€¦ <strong>[1 point]</strong></p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
</ul>

<a href="#log-management" id="log-management" style="color: inherit; text-decoration: none;">
  <h3>Log management</h3>
</a>
<ul>
<li><p><input disabled="" type="checkbox"> 
Mention everything you put in place for a better debugging experience based on the logs collection and analysis. <strong>[3 points]</strong></p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Mention everything you put in place to ensure no sensitive data were recorded to the log. <strong>[1 point]</strong></p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
</ul>

<a href="#asynchronous-first" id="asynchronous-first" style="color: inherit; text-decoration: none;">
  <h3>Asynchronous first</h3>
</a>
<ul>
<li><p><input disabled="" type="checkbox"> 
Always use the async implementations when available. <strong>[1 point]</strong> ðŸ”µ</p>
<blockquote>
<p>List all the functions you call in their async implementation instead of the sync one.</p>
<p>Ex: I used <code>await fs.readFile</code> in file <code>folder/xxx.ts:120</code> instead of <code>fs.readFileSync</code>.</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
No unhandled promise rejections, no uncaught exceptionsâ€¦ <strong>[1 point]</strong> ðŸ”µ</p>
<blockquote>
<p>For example, how do you ensure every promise rejection is caught and properly handled?
Tips: one part of the answer could be the use of a linter.</p>
</blockquote>
</li>
</ul>

<a href="#code-quality" id="code-quality" style="color: inherit; text-decoration: none;">
  <h3>Code quality</h3>
</a>
<ul>
<li><p><input disabled="" type="checkbox"> 
Did you put a focus on reducing code duplication? <strong>[1 point]</strong></p>
<blockquote>
<p>How did you achieve this?</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Eslint rules are checked for any pushed commit to develop or master branch. <strong>[1 point]</strong></p>
<blockquote>
<p>Please provide a link to the sample of Github Action logs (or similar).</p>
</blockquote>
</li>
</ul>

<a href="#automated-tests" id="automated-tests" style="color: inherit; text-decoration: none;">
  <h3>Automated tests</h3>
</a>
<ul>
<li><p><input disabled="" type="checkbox"> 
You implemented automated specs. <strong>[1 point]</strong> ðŸ”µ</p>
<blockquote>
<p>Please provide a link to the more complete summary you have.</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Your test code coverage is 75% or more. <strong>[1 point]</strong> ðŸ”µ</p>
<blockquote>
<p>Please provide a link to the <code>istanbul</code> HTML coverage summary (or from a similar tool).</p>
</blockquote>
</li>
<li><p><input disabled="" type="checkbox"> 
Do you run the test on a CD/CI, such as Github Action? <strong>[1 point]</strong></p>
<blockquote>
<p>Please provide a link to the latest test summary you have, hosted on Github Action or similar.</p>
</blockquote>
</li>
</ul>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>